## BigDeal-planets-api

Файл класса для работы с API: PlanetsApi.

Использование: в директории с файлом скрипта и классом PlanetsApi должен быть файл настроек соединения <b>connect.txt</b>.<br>
В файле <b>connect.txt</b> в формате <br>
```
host=127.0.0.1 
login=root  
password=    
database=planets_db 
```
указываются параметры соединения с базой данных.

Для запуска в одно директории должны быть файлы:  planets.php, PlanetsApi.php,PlanetsDB.php,connect.txt

Запуск: выполнить скрипт planets.php

Назначение файлов: <br>
<b>planets.php</b> -создание экземпляра класса PlanetsApi и вызов главной функции printRez <br>
<b>PlanetsApi.php</b> -файл класса для работы с API и БД. Считывает из файла  connect.txt настройки для соединения с базой данных.
Функцией  Выполняет запрос к удалённому серверу, 
в ццикле считывает ответ, пока полу next, содержащие адрес со следующей страницы данных не будет равно NULL. <br>
На каждом проходе этого цикла считывается массив, содержащий данные о планетах.
Для каждого элемента массива вызывается функция записи в БД. <br>
<b>PlanetsDB</b> -класс, отвечающий за работу с базой данных. <br> 
При инициализации экземпляра класса передаться данные для подключения.<br>
При инициализации экземпляра класса SQL скриптом проверяется, существует ли в базе таблица planets, и при отсутствии создаётся.<br>
За вставку данных отвечает процедура insertDataToDatabase.
